<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>딥링크로 앱 열기</title>
        <script>
            function openApp() {
                const subpath = encodeURI("calapp/main.nhn");
                const fallbackUrl =
                    "https://m.calendar.naver.com/calapp/main.nhn"; // Naver Calendar Applink Scheme
                const encodedFallbackUrl = encodeURI(fallbackUrl);
                const customUrlScheme = `navercal://openwebcal?path=${subpath}`; // Naver Calendar Custom Scheme
                const intentUrl = `intent://openwebcal?path=${subpath}#Intent;scheme=navercal;package=com.nhn.android.calendar.alpha;S.browser_fallback_url=${encodedFallbackUrl};end`;
                

                // window.location.href = customUrlScheme;
                window.location.href = intentUrl;

                setTimeout(function () {
                    window.location.href = fallbackUrl;
                }, 1500);
            }

            document.addEventListener("DOMContentLoaded", function () {
                document.getElementById("openAppButton").onclick = openApp;
            });
        </script>
    </head>
    <body>
<!--         <button id="openAppButton">앱 열기</button> -->
        <span id="userAgent"></span>
    </body>
    <script>
        openApp();
        
        const userAgent = navigator.userAgent.toLowerCase();
        const userAgentSpan = document.querySelector("#userAgent");
        userAgentSpan.innerText = userAgent;
    </script>
</html>
